<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net">
  <diagram name="ER-CINE">
    <mxGraphModel dx="1400" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- ENTIDADES -->
        
        <!-- CINE -->
        <mxCell id="CINE" value="CINE&#xa;----------------&#xa;id (PK)&#xa;nombre&#xa;direccion&#xa;ciudad" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="180" height="140" as="geometry"/>
        </mxCell>

        <!-- SALA -->
        <mxCell id="SALA" value="SALA&#xa;----------------&#xa;id (PK)&#xa;nombre&#xa;capacidad&#xa;cine_id (FK)" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="40" width="200" height="160" as="geometry"/>
        </mxCell>

        <!-- CARTELERA -->
        <mxCell id="CARTELERA" value="CARTELERA&#xa;----------------&#xa;id (PK)&#xa;fecha&#xa;sala_id (FK)" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="40" width="200" height="140" as="geometry"/>
        </mxCell>

        <!-- FUNCION -->
        <mxCell id="FUNCION" value="FUNCION&#xa;----------------&#xa;id (PK)&#xa;hora&#xa;cartelera_id (FK)&#xa;pelicula_id (FK)" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="40" width="220" height="160" as="geometry"/>
        </mxCell>

        <!-- PELICULA -->
        <mxCell id="PELICULA" value="PELICULA&#xa;----------------&#xa;id (PK)&#xa;titulo&#xa;generos_id (FK)&#xa;idioma_id (FK)&#xa;clasificacion_edad_id (FK)" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="300" width="260" height="200" as="geometry"/>
        </mxCell>

        <!-- PERSONA -->
        <mxCell id="PERSONA" value="PERSONA&#xa;----------------&#xa;id (PK)&#xa;nombre&#xa;apellido&#xa;edad&#xa;rol_id (FK)" style="shape=rectangle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="300" width="220" height="180" as="geometry"/>
        </mxCell>

        <!-- RELACIONES (conectores principales) -->

        <mxCell id="rel1" style="endArrow=ERmany;startArrow=ERone;" edge="1" parent="1" source="CINE" target="SALA">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="rel2" style="endArrow=ERmany;startArrow=ERone;" edge="1" parent="1" source="SALA" target="CARTELERA">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="rel3" style="endArrow=ERmany;startArrow=ERone;" edge="1" parent="1" source="CARTELERA" target="FUNCION">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="rel4" style="endArrow=ERmany;startArrow=ERone;" edge="1" parent="1" source="FUNCION" target="PELICULA">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="rel5" style="endArrow=ERmany;startArrow=ERone;" edge="1" parent="1" source="PERSONA" target="PELICULA">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
